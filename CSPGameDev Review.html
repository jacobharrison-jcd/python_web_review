<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Utah CS Principles & Game Dev Review</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f4f5fb;
      color: #1f2933;
    }
    body {
      margin: 0;
      padding: 0;
    }
    .app {
      max-width: 900px;
      margin: 0 auto;
      padding: 1.5rem;
    }
    header {
      text-align: center;
      margin-bottom: 1rem;
    }
    header h1 {
      margin: 0;
      font-size: 1.6rem;
    }
    header p {
      margin: 0.35rem 0 0;
      font-size: 0.95rem;
      color: #4b5563;
    }
    .controls, #statusBar, .nav-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      align-items: center;
      justify-content: center;
      margin-bottom: 0.75rem;
    }
    .control-group {
      display: flex;
      flex-direction: column;
      font-size: 0.85rem;
    }
    .control-group label {
      margin-bottom: 0.15rem;
      font-weight: 600;
      color: #374151;
    }
    select {
      padding: 0.3rem 0.4rem;
      border-radius: 0.4rem;
      border: 1px solid #cbd2e1;
      background: #fff;
      min-width: 130px;
    }
    #statusBar {
      justify-content: space-between;
      border-radius: 0.6rem;
      padding: 0.4rem 0.8rem;
      background: #e5edff;
      border: 1px solid #c3d3ff;
      font-size: 0.85rem;
    }
    #statusBar span {
      margin-right: 0.5rem;
    }
    .tag {
      display: inline-block;
      padding: 0.1rem 0.4rem;
      border-radius: 999px;
      font-size: 0.7rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.03em;
    }
    .tag-course {
      background: #0ea5e9;
      color: white;
    }
    .tag-csp {
      background: #4f46e5;
      color: white;
    }
    .tag-gd {
      background: #22c55e;
      color: white;
    }
    .tag-diff-easy {
      background: #bbf7d0;
      color: #14532d;
    }
    .tag-diff-medium {
      background: #facc15;
      color: #713f12;
    }
    .tag-diff-hard {
      background: #fecaca;
      color: #7f1d1d;
    }
    #questionCard {
      background: #ffffff;
      border-radius: 0.9rem;
      box-shadow: 0 8px 20px rgba(15, 23, 42, 0.10);
      padding: 1.2rem 1.3rem;
      margin-top: 0.5rem;
    }
    #questionMeta {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 0.4rem;
      font-size: 0.85rem;
      color: #6b7280;
    }
    #questionText {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 0.6rem;
    }
    pre.code-block {
      background: #0b1120;
      color: #e5e7eb;
      padding: 0.75rem;
      border-radius: 0.6rem;
      overflow-x: auto;
      font-size: 0.85rem;
      margin-bottom: 0.8rem;
    }
    .answers {
      display: grid;
      grid-template-columns: 1fr;
      gap: 0.5rem;
      margin-top: 0.4rem;
    }
    .answer-btn {
      border-radius: 0.7rem;
      padding: 0.6rem 0.7rem;
      border: 1px solid #d1d5db;
      background: #f9fafb;
      text-align: left;
      font-size: 0.9rem;
      cursor: pointer;
      transition: background 0.15s, border 0.15s, transform 0.08s;
    }
    .answer-btn:hover {
      background: #eef2ff;
      transform: translateY(-1px);
    }
    .answer-btn.correct {
      border-color: #22c55e;
      background: #dcfce7;
    }
    .answer-btn.incorrect {
      border-color: #ef4444;
      background: #fee2e2;
    }
    .answer-btn.disabled {
      opacity: 0.7;
      cursor: default;
      pointer-events: none;
    }
    #feedback {
      margin-top: 0.7rem;
      font-size: 0.9rem;
      min-height: 1.2em;
    }
    #feedback.correct {
      color: #15803d;
    }
    #feedback.incorrect {
      color: #b91c1c;
    }
    #explanation {
      margin-top: 0.35rem;
      font-size: 0.85rem;
      color: #4b5563;
    }
    .nav-buttons {
      margin-top: 0.6rem;
    }
    button.main-btn {
      padding: 0.55rem 1rem;
      border-radius: 999px;
      border: none;
      background: #4f46e5;
      color: white;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 6px 16px rgba(79, 70, 229, 0.35);
      transition: background 0.15s, transform 0.08s, box-shadow 0.15s;
    }
    button.main-btn:hover {
      background: #4338ca;
      transform: translateY(-1px);
      box-shadow: 0 10px 24px rgba(79, 70, 229, 0.45);
    }
    button.main-btn:disabled {
      opacity: 0.5;
      box-shadow: none;
      cursor: default;
      transform: none;
    }
    #summary {
      margin-top: 1rem;
      background: #ecfdf5;
      border-radius: 0.8rem;
      border: 1px solid #6ee7b7;
      padding: 0.8rem 1rem;
      font-size: 0.9rem;
    }
    #summary.hidden {
      display: none;
    }
    #summary h2 {
      margin-top: 0;
      font-size: 1rem;
    }
    @media (min-width: 640px) {
      .answers {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }
  </style>
</head>
<body>
<div class="app">
  <header>
    <h1>Utah CS Principles & Game Development Review</h1>
    <p>Practice questions aligned to Utah Computer Science Principles and Game Development Fundamentals.</p>
  </header>

  <section class="controls">
    <div class="control-group">
      <label for="courseFilter">Course</label>
      <select id="courseFilter">
        <option value="all">Both (Mixed)</option>
        <option value="CSP">Computer Science Principles</option>
        <option value="GD">Game Development</option>
      </select>
    </div>
    <div class="control-group">
      <label for="difficultyFilter">Difficulty</label>
      <select id="difficultyFilter">
        <option value="all">All Difficulties</option>
        <option value="easy">Easy</option>
        <option value="medium">Medium</option>
        <option value="hard">Hard</option>
      </select>
    </div>
    <div class="control-group">
      <label>&nbsp;</label>
      <button id="restartBtn" class="main-btn" type="button">Restart / Reshuffle</button>
    </div>
  </section>

  <section id="statusBar">
    <span id="qCounter">Question: 0 / 0</span>
    <span id="scoreDisplay">Score: 0 correct</span>
    <span id="streakDisplay">Streak: 0 (Best: 0)</span>
    <span id="accuracyDisplay">Accuracy: 0%</span>
  </section>

  <section id="questionCard">
    <div id="questionMeta">
      <span id="courseTag" class="tag tag-course">Choose filters & press Restart</span>
      <span id="difficultyTag" class="tag"></span>
    </div>
    <div id="questionText">Use the controls above, then click “Restart / Reshuffle” to begin.</div>
    <pre id="codeBlock" class="code-block" style="display:none;"></pre>
    <div id="answers" class="answers"></div>
    <div id="feedback"></div>
    <div id="explanation"></div>
  </section>

  <div class="nav-buttons">
    <button id="nextBtn" class="main-btn" type="button">Start</button>
  </div>

  <section id="summary" class="hidden">
    <h2>Session Summary</h2>
    <p id="summaryText"></p>
    <p style="font-size:0.8rem;color:#6b7280;">Tip: Change the course or difficulty above, then hit “Restart / Reshuffle” to get a new random order of questions.</p>
  </section>
</div>

<script>
  // Question bank
  // course: "CSP" or "GD"
  // difficulty: "easy", "medium", "hard"
  const questions = [
    /* ==== CS PRINCIPLES – EASY ==== */
    {
      id: 1,
      course: "CSP",
      difficulty: "easy",
      topic: "Hardware vs Software",
      text: "Which of these is an example of computer hardware?",
      choices: ["A web browser", "The computer’s CPU chip", "An operating system", "A phone app"],
      answerIndex: 1,
      explanation: "Hardware is the physical stuff you can touch. The CPU chip is a physical component; the others are software."
    },
    {
      id: 2,
      course: "CSP",
      difficulty: "easy",
      topic: "Data Representation",
      text: "Computers store all data using which basic symbols?",
      choices: ["0 and 1", "A–Z", "Decimal digits 0–9", "Emoji"],
      answerIndex: 0,
      explanation: "Inside the computer, everything is represented as binary: 0s and 1s."
    },
    {
      id: 3,
      course: "CSP",
      difficulty: "easy",
      topic: "Errors",
      text: "A syntax error is best described as:",
      choices: [
        "A mistake in how the code is written that breaks language rules",
        "A bug that only appears sometimes",
        "A program running forever",
        "An error caused by a broken keyboard"
      ],
      answerIndex: 0,
      explanation: "Syntax errors break the language’s rules, so the program usually won’t run."
    },
    {
      id: 4,
      course: "CSP",
      difficulty: "easy",
      topic: "Internet vs Web",
      text: "The Internet is:",
      choices: [
        "A single website run by one company",
        "The physical network that connects computers around the world",
        "Another name for the World Wide Web",
        "Only used for email"
      ],
      answerIndex: 1,
      explanation: "The Internet is the global network of connected devices. The Web is one service that runs on top of it."
    },
    {
      id: 5,
      course: "CSP",
      difficulty: "easy",
      topic: "Impacts of Computing",
      text: "Which is a beneficial effect of a new smartphone app?",
      choices: [
        "It lets people coordinate rides more easily",
        "It increases e-waste in landfills",
        "It leaks private data",
        "It spreads misinformation quickly"
      ],
      answerIndex: 0,
      explanation: "Easier coordination is a positive impact. The other answers are harmful impacts."
    },
    {
      id: 6,
      course: "CSP",
      difficulty: "easy",
      topic: "Cybersecurity",
      text: "A suspicious email that tries to trick you into giving away passwords is called:",
      choices: ["Malware", "Phishing", "Encryption", "Compression"],
      answerIndex: 1,
      explanation: "Phishing is a form of social engineering that tricks users into revealing sensitive information."
    },
    {
      id: 7,
      course: "CSP",
      difficulty: "easy",
      topic: "Web Development",
      text: "In HTML, which tag is used for the main visible content of a web page?",
      choices: ["<head>", "<html>", "<body>", "<title>"],
      answerIndex: 2,
      explanation: "The <body> element contains the main content shown in the browser window."
    },
    {
      id: 8,
      course: "CSP",
      difficulty: "easy",
      topic: "Algorithms",
      text: "An algorithm is:",
      choices: [
        "A random collection of numbers",
        "A detailed, step-by-step process for solving a problem",
        "Only used in math class",
        "The speed of a computer"
      ],
      answerIndex: 1,
      explanation: "An algorithm is a precise list of steps to solve a problem or complete a task."
    },
    {
      id: 9,
      course: "CSP",
      difficulty: "easy",
      topic: "Collaboration",
      text: "Which is a good collaborative practice when working on a program?",
      choices: [
        "Never documenting your code",
        "Ignoring teammates’ ideas",
        "Using version control and leaving comments",
        "Only sharing the final product"
      ],
      answerIndex: 2,
      explanation: "Version control, comments, and communication help teams collaborate effectively."
    },
    {
      id: 10,
      course: "CSP",
      difficulty: "easy",
      topic: "Lossy vs Lossless",
      text: "Which file type is usually an example of lossy compression?",
      choices: ["PNG image", "Plain text file", "JPEG image", "ZIP archive"],
      answerIndex: 2,
      explanation: "JPEG typically uses lossy compression, throwing away some data to make the file smaller."
    },

    /* ==== CS PRINCIPLES – MEDIUM ==== */
    {
      id: 11,
      course: "CSP",
      difficulty: "medium",
      topic: "Code Tracing (Variables)",
      text: "Take a look at this code. What value will be printed?\n\nx = 3\nx = x + 4\nx = x - 2\nprint(x)",
      code: "x = 3\nx = x + 4\nx = x - 2\nprint(x)",
      choices: ["3", "4", "5", "9"],
      answerIndex: 2,
      explanation: "Start at 3 → +4 = 7 → −2 = 5, so the output is 5."
    },
    {
      id: 12,
      course: "CSP",
      difficulty: "medium",
      topic: "Conditionals (Code Reading)",
      text: "What does this code print?\n\nscore = 85\nif score >= 90:\n    print(\"A\")\nelif score >= 80:\n    print(\"B\")\nelse:\n    print(\"C\")",
      code: "score = 85\nif score >= 90:\n    print(\"A\")\nelif score >= 80:\n    print(\"B\")\nelse:\n    print(\"C\")",
      choices: ["A", "B", "C", "Nothing"],
      answerIndex: 1,
      explanation: "85 is not ≥ 90, but it is ≥ 80, so the program prints \"B\"."
    },
    {
      id: 13,
      course: "CSP",
      difficulty: "medium",
      topic: "Iteration",
      text: "What will this loop print?\n\nfor i in range(3):\n    print(i)",
      code: "for i in range(3):\n    print(i)",
      choices: ["1 2 3", "0 1 2", "0 1 2 3", "3 2 1"],
      answerIndex: 1,
      explanation: "range(3) gives 0, 1, 2, so those are printed on separate lines."
    },
    {
      id: 14,
      course: "CSP",
      difficulty: "medium",
      topic: "Functions / Procedures",
      text: "What does this function do?\n\ndef double(n):\n    return n * 2\n\nprint(double(5))",
      code: "def double(n):\n    return n * 2\n\nprint(double(5))",
      choices: [
        "Prints 2",
        "Prints 5",
        "Prints 10",
        "Prints 7"
      ],
      answerIndex: 2,
      explanation: "double(5) returns 10, so 10 is printed."
    },
    {
      id: 15,
      course: "CSP",
      difficulty: "medium",
      topic: "Binary Conversion",
      text: "What decimal number does the binary value 1010 represent?",
      choices: ["8", "9", "10", "12"],
      answerIndex: 2,
      explanation: "From left to right: 1×8 + 0×4 + 1×2 + 0×1 = 10."
    },
    {
      id: 16,
      course: "CSP",
      difficulty: "medium",
      topic: "Internet Packets",
      text: "On the Internet, large messages are broken into smaller pieces called:",
      choices: ["Domains", "Packets", "Routers", "Cables"],
      answerIndex: 1,
      explanation: "Data is sent in chunks called packets, which may travel different routes."
    },
    {
      id: 17,
      course: "CSP",
      difficulty: "medium",
      topic: "Protocols",
      text: "Which protocol is most directly responsible for ensuring that packets arrive reliably and in order?",
      choices: ["HTTP", "TCP", "DNS", "IP"],
      answerIndex: 1,
      explanation: "TCP handles reliable, ordered delivery. IP handles addressing and routing."
    },
    {
      id: 18,
      course: "CSP",
      difficulty: "medium",
      topic: "Intellectual Property",
      text: "If you want to share your program so others can use and modify it under certain conditions, which license type is most appropriate?",
      choices: ["Copyright with all rights reserved", "Creative Commons / open source style license", "Public domain with no conditions", "Trademark"],
      answerIndex: 1,
      explanation: "Creative Commons or an open-source license explicitly gives permission to share and reuse under listed conditions."
    },
    {
      id: 19,
      course: "CSP",
      difficulty: "medium",
      topic: "Digital Divide",
      text: "Which situation best illustrates the digital divide?",
      choices: [
        "A student prefers one brand of laptop over another",
        "Some rural communities lack high-speed Internet access",
        "A person uses dark mode on their phone",
        "Someone buys a newer phone to play games"
      ],
      answerIndex: 1,
      explanation: "The digital divide is about unequal access to computing resources, like high-speed Internet."
    },
    {
      id: 20,
      course: "CSP",
      difficulty: "medium",
      topic: "Debugging Strategy",
      text: "Which is an effective strategy when debugging a program?",
      choices: [
        "Change many lines at once so it’s faster",
        "Add print statements to see variable values",
        "Ignore error messages",
        "Delete and rewrite the entire program first"
      ],
      answerIndex: 1,
      explanation: "Print statements and working step-by-step help you narrow down where the bug is."
    },

    /* ==== CS PRINCIPLES – HARD ==== */
    {
      id: 21,
      course: "CSP",
      difficulty: "hard",
      topic: "Loop & Condition (Code Reading)",
      text: "What does this code print?\n\ncount = 0\nfor i in range(1, 6):\n    if i % 2 == 0:\n        count = count + 1\nprint(count)",
      code: "count = 0\nfor i in range(1, 6):\n    if i % 2 == 0:\n        count = count + 1\nprint(count)",
      choices: ["0", "2", "3", "5"],
      answerIndex: 1,
      explanation: "The even numbers from 1 to 5 are 2 and 4, so count ends up as 2."
    },
    {
      id: 22,
      course: "CSP",
      difficulty: "hard",
      topic: "String Manipulation (Code Reading)",
      text: "What is printed by this program?\n\ntext = \"game dev\"\nresult = text.upper().replace(\" \", \"-\")\nprint(result)",
      code: "text = \"game dev\"\nresult = text.upper().replace(\" \", \"-\")\nprint(result)",
      choices: ["game dev", "GAME DEV", "GAME-DEV", "game-dev"],
      answerIndex: 2,
      explanation: "upper() makes it \"GAME DEV\" and replace(\" \", \"-\") changes the space to a dash → \"GAME-DEV\"."
    },
    {
      id: 23,
      course: "CSP",
      difficulty: "hard",
      topic: "Efficiency / Algorithms",
      text: "Compared to a linear search, a binary search is more efficient because it:",
      choices: [
        "Checks every item one by one",
        "Splits the data in half each step (on sorted data)",
        "Works only on unsorted data",
        "Uses more memory instead of time"
      ],
      answerIndex: 1,
      explanation: "Binary search repeatedly halves a sorted list, reducing the number of comparisons."
    },
    {
      id: 24,
      course: "CSP",
      difficulty: "hard",
      topic: "Lossy vs Lossless",
      text: "Why would a developer choose lossy compression for a music file used in a game?",
      choices: [
        "To guarantee no quality change at all",
        "To make the file larger for better quality",
        "To reduce file size with a small, acceptable quality loss",
        "Because computers cannot play lossless audio"
      ],
      answerIndex: 2,
      explanation: "Lossy compression shrinks file size at the cost of some quality, which is often acceptable in games."
    },
    {
      id: 25,
      course: "CSP",
      difficulty: "hard",
      topic: "Cybersecurity",
      text: "Which practice best protects a user from password-guessing attacks?",
      choices: [
        "Using the same password on all sites",
        "Using short, simple passwords and writing them on sticky notes",
        "Using long, unique passwords and enabling multi-factor authentication",
        "Sending passwords to friends so they can remember them"
      ],
      answerIndex: 2,
      explanation: "Strong, unique passwords plus multi-factor authentication greatly increase security."
    },
    {
      id: 26,
      course: "CSP",
      difficulty: "hard",
      topic: "Bias in Computing",
      text: "A facial recognition system works well for one group of people but poorly for others. This is an example of:",
      choices: [
        "Open source software",
        "The digital divide",
        "Algorithmic bias",
        "Lossless compression"
      ],
      answerIndex: 2,
      explanation: "Unequal performance across groups is a sign of bias, often due to biased training data."
    },
    {
      id: 27,
      course: "CSP",
      difficulty: "hard",
      topic: "Procedures & Abstraction (Code Reading)",
      text: "What does this code print?\n\ndef add(a, b):\n    return a + b\n\ndef add_three(x):\n    return add(x, 3)\n\nprint(add_three(4))",
      code: "def add(a, b):\n    return a + b\n\ndef add_three(x):\n    return add(x, 3)\n\nprint(add_three(4))",
      choices: ["3", "4", "7", "12"],
      answerIndex: 2,
      explanation: "add_three(4) calls add(4, 3), which returns 7."
    },
    {
      id: 28,
      course: "CSP",
      difficulty: "hard",
      topic: "Networking",
      text: "DNS (Domain Name System) is used primarily to:",
      choices: [
        "Encrypt network traffic",
        "Convert human-readable names into IP addresses",
        "Physically connect computers with cables",
        "Compress web pages"
      ],
      answerIndex: 1,
      explanation: "DNS translates domain names (like example.com) into numeric IP addresses."
    },
    {
      id: 29,
      course: "CSP",
      difficulty: "hard",
      topic: "HTML / Web",
      text: "Which HTML snippet correctly creates a heading and a paragraph?",
      choices: [
        "&lt;h1&gt;Title&lt;/p&gt; &lt;p&gt;Text&lt;/h1&gt;",
        "&lt;head&gt;Title&lt;/head&gt;&lt;p&gt;Text&lt;/p&gt;",
        "&lt;h1&gt;Title&lt;/h1&gt; &lt;p&gt;Text&lt;/p&gt;",
        "&lt;title&gt;Title&lt;/title&gt;&lt;br&gt;Text"
      ],
      answerIndex: 2,
      explanation: "A heading uses &lt;h1&gt;...&lt;/h1&gt; and a paragraph uses &lt;p&gt;...&lt;/p&gt;."
    },
    {
      id: 30,
      course: "CSP",
      difficulty: "hard",
      topic: "Runtime Errors",
      text: "Which situation is most likely to cause a run-time error?",
      choices: [
        "Leaving off a colon at the end of an if-statement",
        "Dividing a number by zero in your program",
        "Misspelling a keyword so the program will not even start",
        "Forgetting to write comments"
      ],
      answerIndex: 1,
      explanation: "Dividing by zero can crash while the program is running, which is a run-time error."
    },

    /* ==== GAME DEVELOPMENT – EASY ==== */
    {
      id: 31,
      course: "GD",
      difficulty: "easy",
      topic: "History",
      text: "Which early video game is famous for two paddles and a ball?",
      choices: ["Pong", "Doom", "Fortnite", "Minecraft"],
      answerIndex: 0,
      explanation: "Pong is one of the earliest iconic arcade games with paddles and a ball."
    },
    {
      id: 32,
      course: "GD",
      difficulty: "easy",
      topic: "Game Roles",
      text: "Which role is MOST responsible for writing the game’s code?",
      choices: ["Game Designer", "Lead Programmer", "Audio Director", "Producer"],
      answerIndex: 1,
      explanation: "The lead programmer oversees the programming team and codebase."
    },
    {
      id: 33,
      course: "GD",
      difficulty: "easy",
      topic: "Genres",
      text: "A game where the main challenge is timing jumps and movement across platforms is usually called a:",
      choices: ["RPG", "Platformer", "Puzzle game", "Racing game"],
      answerIndex: 1,
      explanation: "Platformers focus on jumping and movement across platforms and obstacles."
    },
    {
      id: 34,
      course: "GD",
      difficulty: "easy",
      topic: "Assets",
      text: "In a 2D game, characters and objects drawn as images are usually called:",
      choices: ["Sprites", "Shaders", "Polygons", "Scripts"],
      answerIndex: 0,
      explanation: "Sprites are 2D images used for characters, objects, and UI elements."
    },
    {
      id: 35,
      course: "GD",
      difficulty: "easy",
      topic: "Game Loop Concept",
      text: "Which best describes the main game loop?",
      choices: [
        "A one-time setup screen",
        "The repeated cycle of updating game logic and drawing frames",
        "The credits sequence",
        "The loading screen only"
      ],
      answerIndex: 1,
      explanation: "The game loop repeatedly updates the game world and renders graphics every frame."
    },
    {
      id: 36,
      course: "GD",
      difficulty: "easy",
      topic: "Player Feedback",
      text: "Adding sound effects and animations when the player collects a coin mainly improves:",
      choices: ["Player feedback and feel", "File size", "Performance", "Difficulty"],
      answerIndex: 0,
      explanation: "Juicy feedback (sounds, particles, animation) helps the player feel their actions."
    },
    {
      id: 37,
      course: "GD",
      difficulty: "easy",
      topic: "Careers",
      text: "Which is a job related to creating music and sound effects for games?",
      choices: ["Level Designer", "UI Programmer", "Audio Designer", "Network Engineer"],
      answerIndex: 2,
      explanation: "Audio designers or composers handle music, sound effects, and mixing."
    },
    {
      id: 38,
      course: "GD",
      difficulty: "easy",
      topic: "Controls",
      text: "Which is a good example of intuitive controls?",
      choices: [
        "Jump is bound to 9 different keys",
        "The jump button is clearly labeled and responsive",
        "The game randomly changes the controls",
        "You cannot change any settings"
      ],
      answerIndex: 1,
      explanation: "Intuitive controls are simple, responsive, and easy to understand."
    },
    {
      id: 39,
      course: "GD",
      difficulty: "easy",
      topic: "2D Coordinates",
      text: "In most 2D game engines, increasing the Y coordinate usually moves a sprite:",
      choices: ["Up", "Down", "Left", "Right"],
      answerIndex: 1,
      explanation: "Many 2D systems use a top-left origin, so increasing Y moves downward."
    },
    {
      id: 40,
      course: "GD",
      difficulty: "easy",
      topic: "Playtesting",
      text: "Playtesting is when:",
      choices: [
        "Only the teacher reads the code",
        "Players try the game and give feedback",
        "You delete unused files",
        "You submit the game to an app store"
      ],
      answerIndex: 1,
      explanation: "Playtesting involves observing players and gathering feedback to improve the game."
    },

    /* ==== GAME DEVELOPMENT – MEDIUM ==== */
    {
      id: 41,
      course: "GD",
      difficulty: "medium",
      topic: "History / Key Figures",
      text: "Who is often called the \"father of video games\" for his early work on game consoles?",
      choices: ["Ralph Baer", "Nolan Bushnell", "Shigeru Miyamoto", "Hideo Kojima"],
      answerIndex: 0,
      explanation: "Ralph Baer created early home console technology and is often called the father of video games."
    },
    {
      id: 42,
      course: "GD",
      difficulty: "medium",
      topic: "History / Companies",
      text: "Nolan Bushnell is known for founding which early game company?",
      choices: ["Nintendo", "Atari", "Sony", "Microsoft"],
      answerIndex: 1,
      explanation: "Nolan Bushnell co-founded Atari, a major early video game company."
    },
    {
      id: 43,
      course: "GD",
      difficulty: "medium",
      topic: "Code Reading – Movement",
      text: "Look at this pseudocode. What happens when the right arrow key is pressed?\n\nIF right_key_pressed THEN\n    player_x = player_x + 5\nEND IF",
      code: "IF right_key_pressed THEN\n    player_x = player_x + 5\nEND IF",
      choices: [
        "The player moves 5 units left",
        "The player moves 5 units right",
        "The player jumps up",
        "Nothing changes"
      ],
      answerIndex: 1,
      explanation: "Adding 5 to player_x moves the player to the right on the x-axis."
    },
    {
      id: 44,
      course: "GD",
      difficulty: "medium",
      topic: "Collisions (Code Reading)",
      text: "What does this code segment do?\n\nif player.collides_with(enemy):\n    player.health = player.health - 1",
      code: "if player.collides_with(enemy):\n    player.health = player.health - 1",
      choices: [
        "Increases player health by 1 when touching the enemy",
        "Decreases player health by 1 when touching the enemy",
        "Deletes the enemy",
        "Stops the game"
      ],
      answerIndex: 1,
      explanation: "On collision, the code subtracts 1 from player.health."
    },
    {
      id: 45,
      course: "GD",
      difficulty: "medium",
      topic: "Balancing",
      text: "If a game level is too easy and players never lose, a good balancing change might be to:",
      choices: [
        "Reduce enemy speed and health",
        "Increase enemy speed or damage slightly",
        "Remove all enemies",
        "Disable jump controls"
      ],
      answerIndex: 1,
      explanation: "Increasing enemy speed or damage can raise the difficulty while keeping the core design."
    },
    {
      id: 46,
      course: "GD",
      difficulty: "medium",
      topic: "Game Design",
      text: "Which question focuses MOST on game design rather than programming?",
      choices: [
        "How many frames per second can we render?",
        "Which algorithm sorts enemies by distance?",
        "What choices does the player make, and why are they interesting?",
        "How do we compress textures?"
      ],
      answerIndex: 2,
      explanation: "Game design is about player decisions, goals, and how the game feels to play."
    },
    {
      id: 47,
      course: "GD",
      difficulty: "medium",
      topic: "Careers / Skills",
      text: "Which soft skill is especially important when working on a game dev team?",
      choices: [
        "Refusing to compromise",
        "Strong communication with teammates",
        "Ignoring deadlines",
        "Never accepting feedback"
      ],
      answerIndex: 1,
      explanation: "Communication, teamwork, and reliability are key workplace skills in game development."
    },
    {
      id: 48,
      course: "GD",
      difficulty: "medium",
      topic: "Game Engine Concept",
      text: "A game engine is best described as:",
      choices: [
        "Only the art program used to draw characters",
        "A tool that provides graphics, physics, audio, and scripting systems",
        "A special type of console hardware",
        "A device that records gameplay videos"
      ],
      answerIndex: 1,
      explanation: "Game engines provide reusable systems so developers don’t have to build everything from scratch."
    },
    {
      id: 49,
      course: "GD",
      difficulty: "medium",
      topic: "UI / UX",
      text: "If players cannot find the settings menu, which area likely needs improvement?",
      choices: ["AI", "Networking", "User Interface / User Experience", "Physics"],
      answerIndex: 2,
      explanation: "UI/UX covers how screens are laid out and how easy it is for players to navigate them."
    },
    {
      id: 50,
      course: "GD",
      difficulty: "medium",
      topic: "Bug Types",
      text: "In a game, the player sometimes falls through the floor. This is most likely caused by:",
      choices: [
        "A collision detection bug",
        "A broken audio file",
        "A network timeout",
        "A menu typo"
      ],
      answerIndex: 0,
      explanation: "Falling through floors usually means collisions or physics are not working correctly."
    },

    /* ==== GAME DEVELOPMENT – HARD ==== */
    {
      id: 51,
      course: "GD",
      difficulty: "hard",
      topic: "Code Reading – Loop",
      text: "What does this pseudocode do?\n\nscore = 0\nFOR i FROM 1 TO 4\n    score = score + i\nEND FOR\nPRINT score",
      code: "score = 0\nFOR i FROM 1 TO 4\n    score = score + i\nEND FOR\nPRINT score",
      choices: ["Prints 4", "Prints 6", "Prints 8", "Prints 10"],
      answerIndex: 3,
      explanation: "score = 1+2+3+4 = 10, so it prints 10."
    },
    {
      id: 52,
      course: "GD",
      difficulty: "hard",
      topic: "Difficulty Curves",
      text: "A good difficulty curve in a game will usually:",
      choices: [
        "Stay completely flat with no change",
        "Increase challenge over time while teaching new mechanics",
        "Spike randomly between very easy and impossible",
        "Start extremely hard and then become trivial"
      ],
      answerIndex: 1,
      explanation: "Well-designed games gradually ramp up difficulty and introduce mechanics step-by-step."
    },
    {
      id: 53,
      course: "GD",
      difficulty: "hard",
      topic: "Game Loops / Frame Rate",
      text: "If the game loop runs at 60 frames per second, about how long is each frame?",
      choices: ["1/10 second", "1/30 second", "1/60 second", "1/120 second"],
      answerIndex: 2,
      explanation: "1 second ÷ 60 ≈ 0.0167 seconds per frame, which is 1/60."
    },
    {
      id: 54,
      course: "GD",
      difficulty: "hard",
      topic: "Physics / Gravity",
      text: "In a platformer, which change is most likely to make jumps feel \"floaty\"?",
      choices: [
        "Increasing gravity strength",
        "Decreasing gravity strength",
        "Increasing player horizontal speed only",
        "Reducing jump height"
      ],
      answerIndex: 1,
      explanation: "Lower gravity makes the character fall more slowly, which feels floaty."
    },
    {
      id: 55,
      course: "GD",
      difficulty: "hard",
      topic: "Optimization",
      text: "Which optimization idea is generally BEST to try first when a game is running slowly?",
      choices: [
        "Remove all graphics and sounds",
        "Profile the game to find which parts are slow, then optimize those",
        "Randomly change code until it’s faster",
        "Rewrite the entire game in a different language immediately"
      ],
      answerIndex: 1,
      explanation: "Profiling identifies the actual bottlenecks so you can optimize the parts that matter."
    },
    {
      id: 56,
      course: "GD",
      difficulty: "hard",
      topic: "Careers / Training",
      text: "According to typical industry expectations, which combination is most helpful for getting a game dev job?",
      choices: [
        "A strong portfolio of finished projects and collaborative experience",
        "Only high test scores but no projects",
        "Knowing one engine but never finishing any games",
        "Playing a lot of games but never analyzing them"
      ],
      answerIndex: 0,
      explanation: "Studios look for portfolios that show finished games and proof you can work with others."
    },
    {
      id: 57,
      course: "GD",
      difficulty: "hard",
      topic: "Code Reading – State",
      text: "What does this code do when the player presses the jump key while already jumping?\n\nif jump_key_pressed and is_on_ground:\n    velocity_y = jump_speed",
      code: "if jump_key_pressed and is_on_ground:\n    velocity_y = jump_speed",
      choices: [
        "Makes the player double-jump in mid-air",
        "Prevents mid-air jumps because is_on_ground is false",
        "Always jumps, even in mid-air",
        "Stops all motion"
      ],
      answerIndex: 1,
      explanation: "The condition requires is_on_ground. In mid-air, that’s false, so the code won’t run."
    },
    {
      id: 58,
      course: "GD",
      difficulty: "hard",
      topic: "Camera & Feel",
      text: "Which camera behavior usually feels BEST in a 2D side-scroller?",
      choices: [
        "Camera never moves at all",
        "Camera jumps instantly to random positions",
        "Camera smoothly follows slightly ahead of the player’s direction",
        "Camera rotates wildly every frame"
      ],
      answerIndex: 2,
      explanation: "A smooth camera that looks slightly ahead helps players see what’s coming without motion sickness."
    },
    {
      id: 59,
      course: "GD",
      difficulty: "hard",
      topic: "Level Design",
      text: "Which level design description shows good use of teaching, testing, and challenging a new mechanic?",
      choices: [
        "Introduce a new mechanic in the hardest possible way immediately",
        "Let players discover a new mechanic during the final boss only",
        "Safely introduce a mechanic, then require it in simple challenges, then combine it with other threats",
        "Never require the new mechanic to finish the level"
      ],
      answerIndex: 2,
      explanation: "A classic pattern is: introduce safely, then practice, then challenge with combinations."
    },
    {
      id: 60,
      course: "GD",
      difficulty: "hard",
      topic: "Bug Types (Logic)",
      text: "A bug where the game runs without crashing but the score increases when you lose is best described as a:",
      choices: [
        "Syntax error",
        "Run-time error",
        "Logic error",
        "Compilation error"
      ],
      answerIndex: 2,
      explanation: "The program runs but behaves incorrectly, which is a logic error."
    }
  ];

  // State
  let filteredQuestions = [];
  let currentIndex = 0;
  let score = 0;
  let totalAnswered = 0;
  let currentStreak = 0;
  let bestStreak = 0;
  let questionAnswered = false;

  const courseFilterEl = document.getElementById("courseFilter");
  const difficultyFilterEl = document.getElementById("difficultyFilter");
  const restartBtn = document.getElementById("restartBtn");
  const nextBtn = document.getElementById("nextBtn");

  const qCounterEl = document.getElementById("qCounter");
  const scoreDisplayEl = document.getElementById("scoreDisplay");
  const streakDisplayEl = document.getElementById("streakDisplay");
  const accuracyDisplayEl = document.getElementById("accuracyDisplay");

  const courseTagEl = document.getElementById("courseTag");
  const difficultyTagEl = document.getElementById("difficultyTag");
  const questionTextEl = document.getElementById("questionText");
  const codeBlockEl = document.getElementById("codeBlock");
  const answersEl = document.getElementById("answers");
  const feedbackEl = document.getElementById("feedback");
  const explanationEl = document.getElementById("explanation");
  const summaryEl = document.getElementById("summary");
  const summaryTextEl = document.getElementById("summaryText");

  function shuffle(array) {
    const arr = array.slice();
    for (let i = arr.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      const temp = arr[i];
      arr[i] = arr[j];
      arr[j] = temp;
    }
    return arr;
  }

  function applyFilters() {
    const courseFilter = courseFilterEl.value;
    const diffFilter = difficultyFilterEl.value;

    filteredQuestions = questions.filter(q => {
      const courseOk = (courseFilter === "all") || (q.course === courseFilter);
      const diffOk = (diffFilter === "all") || (q.difficulty === diffFilter);
      return courseOk && diffOk;
    });

    filteredQuestions = shuffle(filteredQuestions);
    currentIndex = 0;
    score = 0;
    totalAnswered = 0;
    currentStreak = 0;
    bestStreak = 0;
    questionAnswered = false;
    feedbackEl.textContent = "";
    feedbackEl.className = "";
    explanationEl.textContent = "";
    summaryEl.classList.add("hidden");
    updateStatusBar();
    if (filteredQuestions.length === 0) {
      questionTextEl.textContent = "No questions match these filters. Try changing the course or difficulty.";
      codeBlockEl.style.display = "none";
      courseTagEl.textContent = "No questions";
      difficultyTagEl.textContent = "";
      answersEl.innerHTML = "";
      nextBtn.disabled = true;
    } else {
      nextBtn.disabled = false;
      loadQuestion();
    }
  }

  function updateStatusBar() {
    qCounterEl.textContent = "Question: " + (filteredQuestions.length === 0 ? 0 : Math.min(currentIndex + 1, filteredQuestions.length)) + " / " + filteredQuestions.length;
    scoreDisplayEl.textContent = "Score: " + score + " correct";
    streakDisplayEl.textContent = "Streak: " + currentStreak + " (Best: " + bestStreak + ")";
    const acc = totalAnswered === 0 ? 0 : Math.round((score / totalAnswered) * 100);
    accuracyDisplayEl.textContent = "Accuracy: " + acc + "%";
  }

  function difficultyTagClass(diff) {
    if (diff === "easy") return "tag tag-diff-easy";
    if (diff === "medium") return "tag tag-diff-medium";
    if (diff === "hard") return "tag tag-diff-hard";
    return "tag";
  }

  function courseTagClass(course) {
    if (course === "CSP") return "tag tag-csp";
    if (course === "GD") return "tag tag-gd";
    return "tag tag-course";
  }

  function loadQuestion() {
    if (currentIndex >= filteredQuestions.length) {
      showSummary();
      return;
    }
    const q = filteredQuestions[currentIndex];
    questionAnswered = false;

    courseTagEl.className = courseTagClass(q.course);
    courseTagEl.textContent = q.course === "CSP" ? "CSP" : "Game Dev";

    difficultyTagEl.className = difficultyTagClass(q.difficulty);
    difficultyTagEl.textContent = q.difficulty.charAt(0).toUpperCase() + q.difficulty.slice(1);

    const prefix = q.topic ? "[" + q.topic + "] " : "";
    questionTextEl.textContent = prefix + q.text.replace(/\n/g, " ");
    if (q.code) {
      codeBlockEl.style.display = "block";
      codeBlockEl.textContent = q.code;
    } else {
      codeBlockEl.style.display = "none";
      codeBlockEl.textContent = "";
    }

    answersEl.innerHTML = "";
    q.choices.forEach((choice, index) => {
      const btn = document.createElement("button");
      btn.type = "button";
      btn.className = "answer-btn";
      btn.textContent = choice;
      btn.dataset.index = index.toString();
      btn.addEventListener("click", () => handleAnswer(index));
      answersEl.appendChild(btn);
    });

    feedbackEl.textContent = "";
    feedbackEl.className = "";
    explanationEl.textContent = "";

    updateStatusBar();
    nextBtn.textContent = "Skip / Next";
  }

  function handleAnswer(selectedIndex) {
    if (questionAnswered) return;
    const q = filteredQuestions[currentIndex];
    questionAnswered = true;
    totalAnswered++;

    const buttons = answersEl.querySelectorAll(".answer-btn");
    buttons.forEach(btn => {
      btn.classList.add("disabled");
      const idx = parseInt(btn.dataset.index, 10);
      if (idx === q.answerIndex) {
        btn.classList.add("correct");
      }
      if (idx === selectedIndex && idx !== q.answerIndex) {
        btn.classList.add("incorrect");
      }
    });

    if (selectedIndex === q.answerIndex) {
      score++;
      currentStreak++;
      if (currentStreak > bestStreak) bestStreak = currentStreak;
      feedbackEl.textContent = "Correct!";
      feedbackEl.className = "correct";
    } else {
      currentStreak = 0;
      feedbackEl.textContent = "Not quite. The correct answer is highlighted.";
      feedbackEl.className = "incorrect";
    }
    explanationEl.textContent = q.explanation || "";
    updateStatusBar();
    nextBtn.textContent = "Next Question";
  }

  function showSummary() {
    summaryEl.classList.remove("hidden");
    const acc = totalAnswered === 0 ? 0 : Math.round((score / totalAnswered) * 100);
    summaryTextEl.textContent =
      "You answered " + totalAnswered + " question(s). " +
      "Correct: " + score + ". " +
      "Best streak: " + bestStreak + ". " +
      "Accuracy: " + acc + "%.";
    questionTextEl.textContent = "You’ve reached the end of this set of questions.";
    codeBlockEl.style.display = "none";
    answersEl.innerHTML = "";
    feedbackEl.textContent = "";
    explanationEl.textContent = "";
    nextBtn.textContent = "Restart";
  }

  restartBtn.addEventListener("click", applyFilters);

  nextBtn.addEventListener("click", () => {
    if (filteredQuestions.length === 0) {
      applyFilters();
      return;
    }
    if (currentIndex >= filteredQuestions.length) {
      applyFilters();
      return;
    }
    if (!questionAnswered) {
      currentIndex++;
      loadQuestion();
    } else {
      currentIndex++;
      loadQuestion();
    }
  });

  // Start with filters applied so pressing Start works right away
  applyFilters();
</script>
</body>
</html>
